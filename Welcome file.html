<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome file</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html">
    <h1 id="cvičení">5. cvičení</h1>
    <h2 id="základní-nastavení">Základní nastavení</h2>
    <h3 id="získání-ipv4-adresy-z-dhcp-dhcp-client">1. Získání IPv4 adresy z DHCP (DHCP client)</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set interfaces ge-0/0/&lt;x&gt; unit 0 family inet dhcp


</code></pre>
    <h3 id="získání-ipv6-adresy-z-dhcp-dhcp-client">2. Získání IPv6 adresy z DHCP (DHCP client)</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set interfaces ge-0/0/0 unit 0 family inet6 dhcpv6-client client-type stateful
# set interfaces ge-0/0/0 unit 0 family inet6 dhcpv6-client client-ia-type ia-na
# set interfaces ge-0/0/0 unit 0 family inet6 dhcpv6-client client identifier duid-type duid-ll


</code></pre>
    <h3 id="nastavení-ipv6-adresy">3. Nastavení IPv6 adresy</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set interfaces ge-0/0/&lt;x&gt; unit 0 family inet6 address &lt;IPv6addres&gt;/&lt;prefix length&gt;


</code></pre>
    <h3 id="nastavení-módu-přepínaní-pro-ipv6">4. Nastavení módu přepínaní pro IPv6</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set security forwarding-options family inet6 mode packet-based


</code></pre>
    <h3 id="nastavení-statické-ipv6-default-route">5. Nastavení statické IPv6 default route</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set routing-options rib inet6.0 static route ::/0 next-hop 2001::


</code></pre>
    <h3 id="kontrola-aplikace-nastavení---adresy-route-mód-přepínaní-paketů">6. Kontrola aplikace nastavení - adresy,
      route, mód přepínaní paketů</h3>
    <pre class=" language-console"><code class="prism  language-console">
&gt; show interfaces terse 
&gt; show route
&gt; show security flow status


</code></pre>
    <h2 id="nastavení-dhcp-serveru">Nastavení DHCP serveru</h2>
    <h3 id="nastavení-dhcp-pool">1. Nastavení DHCP pool</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set access address-assignment pool &lt;pool name&gt; family inet network &lt;IPnetwork addres&gt;/&lt;prefix length&gt;

# set access address-assignment pool &lt;pool name&gt; family inet range &lt;rangename&gt; low &lt;low IP address of range&gt; high &lt;high IP address of range&gt;

# set access address-assignment pool &lt;pool name&gt; family inet dhcp-attributes name-server &lt;DNS server address&gt;

# set access address-assignment pool &lt;pool name&gt; family inet dhcp-attributes router &lt;default gateway IP&gt;

# set access address-assignment pool &lt;pool name&gt; family inet dhcp-attributes domain-name &lt;domain suffix&gt;

# set access address-assignment pool &lt;pool name&gt; family inet dhcp-attributes maximum-lease-time &lt;lease length&gt;


</code></pre>
    <h3 id="přiřazení-dhcp-pool-k-rozhraní">2. Přiřazení DHCP pool k rozhraní</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set system services dhcp-local-server group &lt;pool name&gt; interface&lt;interface name&gt;
# commit


</code></pre>
    <h3 id="nastavení-router-advertisment-pro-rozhraní">3. Nastavení router advertisment pro rozhraní</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set protocols router-advertisement interface &lt;interface name&gt; managed-configuration


</code></pre>
    <h3 id="nastavení-dhcp-pool-pro-ipv6">4. Nastavení DHCP pool pro IPv6</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set access address-assignment pool &lt;pool name&gt; family inet6 prefix &lt;IPv6network addres&gt;/&lt;prefix length&gt;

# set access address-assignment pool &lt;pool name&gt; family inet6 range &lt;nameof range&gt; low &lt;low IPv6 address of range&gt;

# set access address-assignment pool &lt;pool name&gt; family inet6 range &lt;nameof range&gt; high &lt;high IPv6 address of range&gt;

# set access address-assignment pool &lt;pool name&gt; family inet6 dhcp-attributes dns-server &lt;DNS server address&gt;

# set system services dhcp-local-server dhcpv6 group &lt;pool name&gt; interface
&lt;interface name&gt;


</code></pre>
    <h3 id="alternativně-je-možné-místo-dhcpv6-serveru-zapnout-autonomní-získávání-ipv6-adresy">5. Alternativně je možné
      místo DHCPv6 serveru zapnout autonomní získávání IPv6 adresy</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set protocols router-advertisement interface ge-0/0/0 prefix &lt;IPv6network addres&gt;/&lt;prefix length&gt; autonomous


</code></pre>
    <h3 id="test-získání-adresy-na-pc">6. Test získání adresy na PC</h3>
    <h3 id="kontrola-přidělených-adres">7. Kontrola přidělených adres</h3>
    <pre class=" language-console"><code class="prism  language-console">
&gt; show dhcp server binding 
&gt; show dhcpv6 server binding


</code></pre>
    <h2 id="záloha-konfigurace-na-ftp">Záloha konfigurace na FTP</h2>
    <h3 id="odeslání-aktuální-konfigurace-při-commit">1. Odeslání aktuální konfigurace při commit</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set system archival configuration archive-sites ftp://&lt;username&gt;@&lt;ftp IPaddress&gt;/ password &lt;password&gt;
# set system archival configuration transfer-on-commit


</code></pre>
    <h3 id="ověřit-na-ftp-serveru-přesun-konfigu-proběhne-cca-30-sekund-po-commit">2. Ověřit na FTP serveru (přesun
      konfigu proběhne cca 30 sekund po commit)</h3>
    <ul>
      <li>FileZilla server na Windows 11</li>
      <li>vsftpd server na AlmaLinux 10 (test/test)</li>
    </ul>
    <h2 id="snmp">SNMP</h2>
    <h3 id="nastavení-snmp">1. Nastavení SNMP</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set snmp community &lt;community name&gt; clients &lt;allowed IP range&gt; 
# set snmp trap-group interfaces targets &lt;IP address for SNMP trap&gt;
# set snmp trap-group interfaces categories link 
# commit


</code></pre>
    <h3 id="odchyt-snmp-na-pc">2. Odchyt SNMP na PC</h3>
    <ul>
      <li>iReasoning MIB Browser</li>
      <li>Wireshark</li>
    </ul>
    <h3 id="test-nastavení">3. Test nastavení</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set interfaces ge-0/0/1 disable 
# commit and-quit
&gt; show interfaces ge-0/0/1 terse
&gt; show log messages | match ge-0/0/1 | match snmp 
&gt; show snmp statistics
&gt; show snmp mib walk jnxOperatingDescr


</code></pre>
    <h3 id="další-nastavení">4. Další nastavení</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set system location LAB 
# commit and-quit
&gt; show chassis location


</code></pre>
    <h2 id="syslog">Syslog</h2>
    <h3 id="ukládání-syslog-zpráv-do-souborů">1. Ukládání syslog zpráv do souborů</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set system syslog file &lt;filename&gt; &lt;facility&gt; &lt;severity&gt; 
# set system syslog file soubor authorization info


</code></pre>
    <h3 id="zobrazení-obsahu-log-souborů">2. Zobrazení obsahu log souborů</h3>
    <pre class=" language-console"><code class="prism  language-console">
&gt; file list /var/log/ 
&gt; show log soubor
&gt; clear log ... 
&gt; file delete ...


</code></pre>
    <h3 id="nastavení-odesílání-syslog-zpráv">3. Nastavení odesílání syslog zpráv</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set system syslog host &lt;IP of syslog server&gt; &lt;facility&gt; &lt;severity&gt; 
# commit and-quit


</code></pre>
    <h3 id="odchyt-syslog-na-pc">4. Odchyt Syslog na PC</h3>
    <ul>
      <li>Tftpd64</li>
      <li>Wireshark</li>
    </ul>
    <h2 id="ntp">NTP</h2>
    <h3 id="nastavení-ntp-serveru">1. Nastavení NTP serveru</h3>
    <pre class=" language-console"><code class="prism  language-console">
# set system ntp server &lt;NTP server IP address&gt; 
# commit and-quit


</code></pre>
    <h3 id="ověření-synchronizace">2. Ověření synchronizace</h3>
    <pre class=" language-console"><code class="prism  language-console">
&gt; set date ntp
&gt; show ntp associations


</code></pre>
    <h2 id="odchyt-komunikace">Odchyt komunikace</h2>
    <h3 id="odchyt-komunikace---jen-komunikace-systémová-mířící-na-dané-rozhraní-arp-dhcp...">1. Odchyt komunikace - jen
      komunikace systémová mířící na dané rozhraní (ARP, DHCP,…)</h3>
    <pre class=" language-console"><code class="prism  language-console">
&gt; monitor traffic interface &lt;interface&gt;


</code></pre>
  </div>
</body>

</html>